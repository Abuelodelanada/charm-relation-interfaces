{
   "$schema":"https://json-schema.org/draft/2019-09/schema",
   "$id":"https://canonical.github.io/charm-relation-interfaces/kafka/schemas/requirer.json",
   "title":"`kafka` requirer schema",
   "description":"The `kafka` root schema comprises the entire requirer databag for this interface.",
   "type":"object",
   "default":{
      
   },
   "required":[
      "uri",
      "role"
   ],
   "if":{
       "properties": {"role": {"const": "producer"}}
   },
   "then":{
       "required": ["topic"]
   },
   "if":{
       "properties": {"role": {"const": "consumer"}}
   },
   "then":{
       "required": ["topic", "group"]
   },
   "additionalProperties":true,
   "properties":{
      "role":{
         "title":"Application client role",
         "description":"The application role requested by the requirer",
         "type":"string",
         "default":"admin",
         "enum":[
            "producer",
            "consumer",
            "admin"
         ]
      },
      "topic":{
         "title":"Kafka topic name",
         "description":"The topic name access requested by the requirer",
         "type":"string",
         "default":"",
         "examples":[
            "topic-1",
            "appname-*"
         ]
      },
      "group":{
         "title":"Kafka consumer group name",
         "description":"The consumer group name requested by the requirer",
         "type":"string",
         "default":"",
         "examples":[
            "group-1",
            "appname-*"
         ]
      }
   },
   "examples":[
      {
         "uri":"10.141.78.111:1234",
         "role": "consumer",
         "topic": "special-topic",
         "group": "group-A"
      }
   ]
}
